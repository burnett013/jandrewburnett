{% extends 'core/base.html' %}

{% block content %}
<div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-left mb-16">
        <h1 class="text-4xl font-extrabold text-app-text-main sm:text-5xl sm:tracking-tight lg:text-6xl mb-4">
            Experience
        </h1>
        <p class="max-w-2xl text-xl text-app-text-muted">
            My professional journey and milestones.
        </p>
    </div>

    <div class="flow-root relative">
        <!-- Vertical line -->
        <div
            class="absolute top-0 bottom-0 left-8 md:left-0 md:ml-12 w-px bg-gradient-to-b from-app-accent/50 to-app-border">
        </div>

        <ul role="list" class="space-y-16">
            {% for job in experiences %}
            <li class="relative">
                <div class="flex flex-col md:flex-row gap-8 md:gap-16">
                    <!-- Date Column (Desktop) / Header (Mobile) -->
                    <div class="md:w-1/4 md:text-right flex-shrink-0 pt-1">
                        <time datetime="{{ job.start_date|date:'Y-m-d' }}"
                            class="block text-sm font-mono font-medium text-app-accent mb-1">
                            {{ job.start_date|date:"F Y" }} â€”
                            {% if job.end_date %}
                            {{ job.end_date|date:"F Y" }}
                            {% else %}
                            Present
                            {% endif %}
                        </time>
                        <div class="md:hidden text-lg font-bold text-app-text-main">{{ job.role }}</div>
                        <div class="md:hidden text-base text-app-text-muted">{{ job.company }}</div>
                    </div>

                    <!-- Marker -->
                    <div
                        class="absolute left-8 md:left-12 -ml-1.5 md:-ml-[7px] w-4 h-4 rounded-full border-2 border-app-accent bg-app-bg z-10 hidden md:block mt-1.5">
                    </div>

                    <!-- Content Column -->
                    <div class="md:w-3/4 pl-16 md:pl-0">
                        <h3 class="hidden md:block text-2xl font-bold text-app-text-main mb-1">{{ job.role }}</h3>
                        <p class="hidden md:block text-lg font-medium text-app-text-muted mb-4">{{ job.company }}</p>

                        <div class="prose prose-invert max-w-none text-app-text-muted/80">
                            <ul class="list-none space-y-2 pl-0">
                                {% for bullet in job.description_bullets %}
                                <li class="relative pl-6">
                                    <span class="absolute left-0 top-2 w-1.5 h-1.5 rounded-full bg-app-border"></span>
                                    {{ bullet }}
                                </li>
                                {% empty %}
                                <li class="relative pl-6">
                                    <span class="absolute left-0 top-2 w-1.5 h-1.5 rounded-full bg-app-border"></span>
                                    {{ job.description_bullets }}
                                </li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                </div>
            </li>
            {% endfor %}
        </ul>
    </div>
</div>
{% endblock %}